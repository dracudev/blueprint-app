<%- include('partials/head') %>
<link rel="stylesheet" href="/styles/profile.css" />
<%- include('partials/header') %>

<main>
  <% if (user) { %>
    <div class="profile-container">
    <!-- Client Information Section -->
    <div class="client-info-section">
      <h2><i class="fas fa-briefcase"></i> Client Information</h2>
      <% if (client) { %>
      <div class="client-info-card">
        <div class="client-info-header">
          <div class="client-type">
            <i class="fas fa-<%= client.isCompany ? 'building' : 'user' %>"></i>
            <%= client.isCompany ? 'Business Client' : 'Individual Client' %>
          </div>
          <a href="/client/profile/edit" class="btn btn-secondary btn-sm">
            <i class="fas fa-edit"></i> Edit
          </a>
        </div>
        <div class="client-info-body">
          <div class="client-info-grid">
            <% if (client.isCompany) { %>
            <div class="client-info-item">
              <label>Company Name</label>
              <span><%= client.companyName %></span>
            </div>
            <% } else { %>
            <div class="client-info-item">
              <label>Full Name</label>
              <span><%= client.firstName %> <%= client.lastName %></span>
            </div>
            <% } %>
            <div class="client-info-item">
              <label>Email</label>
              <span><%= client.email %></span>
            </div>
            <% if (client.phone) { %>
            <div class="client-info-item">
              <label>Phone</label>
              <span><%= client.phone %></span>
            </div>
            <% } %> <% if (client.billingAddress) { %>
            <div class="client-info-item full-width">
              <label>Billing Address</label>
              <span><%= client.billingAddress %></span>
            </div>
            <% } %>
          </div>
        </div>
      </div>
      <% } else { %>
      <div class="no-client-info">
        <div class="no-client-content">
          <i class="fas fa-user-plus"></i>
          <h3>Complete Your Client Profile</h3>
          <p>
            Set up your client information to access all our services and manage
            your orders.
          </p>
          <a href="/client/setup" class="btn btn-primary btn-md">
            <i class="fas fa-plus" style="font-size: 0.875rem"></i> Setup Client
            Profile
          </a>
        </div>
      </div>
      <% } %>
    </div>
    </div>
  <% } else { %>
  <div class="error-container">
    <h1>Profile Not Found</h1>
    <p>Unable to load profile information.</p>
    <a href="/auth/login" class="btn">Login</a>
  </div>
  <% } %>
</main>

</div>
</body>
</html>